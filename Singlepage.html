<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Property Listings</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
  <style>
            body {
            color: black;
            background-image: linear-gradient(to bottom right,  rgb(0, 255, 149), rgb(217, 217, 217))
        }
        .nav-link {
            position: relative;
            color: #282828;
            text-decoration: none;
            margin: 15px;
            z-index: 1; 
        }

        .nav-link.active::after {
            content: "";
            position: absolute;
            bottom: 10px;
            left: 10%;
            width: 80%;
            height: 5px;
            background-color: #02F89C;
            z-index: -1;
        }
        .container {
  margin: 20px auto;
  padding: 20px;
  max-width: 800px;
}

/* Center the title and make it bigger and bolder */
#property-title {
  text-align: center;
  font-size: 36px;
  font-weight: bold;
}

/* Make the image responsive and add a border and a shadow */
#property-image {
  width: 100%;
  height: auto;
  border: 5px solid #eee;
  box-shadow: 0 0 10px rgba(0,0,0,0.1);
}

/* Center the div and make it a flex container */
#property-details {
  list-style: none;
  display: flex;
  justify-content: center;
  align-items: center;
}

/* Style the span elements with some spacing and borders */
#property-details span {
  display: inline-block;
  padding: 10px;
  margin: 10px;
  border: 1px solid #eee;
}

#back-button {
  display: flex;
  justify-content: center;
  align-items: center;
}
  </style>
</head>

<body>
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container">
        <img src="images/staybnb.png" width="150px" class="navbar-brand p-2" href="index.html">
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
            aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
            <ul class="navbar-nav ml-auto">
              <li class="nav-item">
                <a class="nav-link" href="index.html">Home</a>
              </li>
              <li class="nav-item">
                <a class="nav-link active" href="#">Properties</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="agents.html">Agents</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="contact.html">Contact Us</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="booking.html">Book a view</a>
            </li>
            </ul>
          </div>
    </div>
</nav>



<div class="container">
  <div class="row">
    <div class="col-12">
      <img id="property-image" src="" alt="Card image">
    </div>
  </div>
  <div class="row">
    <div class="col-12">
      <h1 id="property-title"></h1>
    </div>
  </div>
  <div class="row">
    <div class="col-12">
      <!-- Use a div instead of a ul -->

      <div id="property-details">
        <p>Home status: <span id="home-status"></span></p>
        <p>City: <span class="icon-pin ::before " id="city"></span></p>
        <p>Country: <span id="country"></span></p>
        <p>Price: <span id="price"></span></p>
        <p>Lot area: <span id="lot-area"></span></p>
      </div>
    </div>
  </div>

</div>
  <!-- Add a button element with an onclick attribute -->
  <div class="row">
    <div class="col-12">
      <button id="back-button" class="btn btn-success btn-sm m-1" onclick="goBack()">Go back to property list</button>
    </div>
  </div>
</div>

  <footer class="p-3 mt-5 border-top bg-light">
    <div class="row">
        <div class="col-md-5">
            <img src="images/staybnb.png" width="200" class="ml-5">
        </div>

        <div class="col-md-2">
            <h5>Home</h5>
            <ul class="nav flex-column">
                <li class="nav-item mb-2"><a href="#" class="nav-link p-0 text-body-secondary">Properties</a></li>
                <li class="nav-item mb-2"><a href="#" class="nav-link p-0 text-body-secondary">Agents</a></li>
                <li class="nav-item mb-2"><a href="" class="nav-link p-0 text-body-secondary">Contact Us</a></li>
            </ul>
        </div>

        <div class="col-md-2">
            <h5>Account</h5>
            <ul class="nav flex-column">
                <li class="nav-item mb-2"><a href="#" class="nav-link p-0 text-body-secondary">Register</a></li>
                <li class="nav-item mb-2"><a href="#" class="nav-link p-0 text-body-secondary">Login</a></li>
            </ul>
        </div>

        <div class="col-md-2">
            <h5>Company</h5>
            <ul class="nav flex-column">
                <li class="nav-item mb-2"><a href="#" class="nav-link p-0 text-body-secondary">About Us</a></li>
                <li class="nav-item mb-2"><a href="#" class="nav-link p-0 text-body-secondary">Property</a></li>
                <li class="nav-item mb-2"><a href="#" class="nav-link p-0 text-body-secondary">Privacy Police</a></li>
                <li class="nav-item mb-2"><a href="#" class="nav-link p-0 text-body-secondary">Term of Policy</a></li>
            </ul>
        </div>
    </div>
</footer>
    <script>

const jsonUrl = "json/data.json";
const zpid = new URLSearchParams(window.location.search).get("zpid");
const propertyTitle = document.querySelector("#property-title");
const propertyImage = document.querySelector("#property-image");
const propertyDetails = document.querySelector("#property-details");

function fetchData() {
  fetch(jsonUrl)
    .then((response) => response.json())
    .then((data) => {
      console.log(data);
      let item = data.find((item) => item.zpid == zpid);
      if (item) {
        propertyTitle.textContent = item.homeStatus
          ? `${item.homeStatus} in ${item.city}, ${item.country}`
          : `${item.city}, ${item.country}`;
        propertyImage.src = item.imgSrc;
        propertyDetails.innerHTML = `
          <li>${
            item.homeStatus ? `Home Status: ${item.homeStatus}` : ""
          }</li>
          <li>City: ${item.city}</li>
          <li>Country: ${item.country}</li>
          <li>${
            item.price
              ? `Selling Price: $${item.price.toLocaleString()}`
              : "Selling Price: N/A"
          }</li>
          <li>${
            item.lotAreaValue !== undefined && item.lotAreaUnit !== undefined
              ? `Lot Area: ${item.lotAreaValue} ${item.lotAreaUnit}`
              : "Lot Area: N/A"
          }</li>
        `;
      } else {
        alert("No property found with that zpid.");
      }
    })
    .catch((error) => {
      alert(`Error fetching data: ${error}`);
    });
}

fetchData();

function goBack() {
  window.location.href = 'pagination.html';
}
    </script>
  </body>
</html>